import{r as o,j as e,w as y,i as E,L as V,a as $,b as R,o as W}from"../chunks/chunk-NnsilhFv.js";import{u as H,a as O}from"../chunks/chunk-yrsSxuPR.js";import{v as _,g as q}from"../chunks/chunk-dfutL-P5.js";import"../chunks/chunk-BIVpqUci.js";/* empty css                      *//* empty css                      *//* empty css                      */function F(){const{customDecks:x,deleteDeck:w,duplicateDeck:C,exportDeck:D,importDeck:S,addDeck:T}=H(),{showNotificationMessage:a}=O(),[L,n]=o.useState(!1),[d,m]=o.useState(""),[h,j]=o.useState(!1),[M,l]=o.useState(!1),[i,b]=o.useState(""),[f,v]=o.useState(""),[k,g]=o.useState(""),[u,N]=o.useState(!1),z=s=>{try{const t=D(s.id),p=new Blob([t],{type:"application/json"}),c=URL.createObjectURL(p),r=document.createElement("a");r.href=c,r.download=`${s.name}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(c),a("Deck exported successfully!","success")}catch(t){a(`Export failed: ${t}`,"error")}},P=async()=>{if(!d.trim()){a("Please paste deck JSON to import","error");return}j(!0);try{await S(d),a("Deck imported successfully!","success"),m(""),n(!1)}catch(s){a(`Import failed: ${s}`,"error")}finally{j(!1)}},A=async()=>{if(!i.trim()){a("Deck name is required","error");return}N(!0);try{const s={name:i.trim(),description:f.trim()||"Custom deck created with basic cards",type:"custom",isCustom:!0,baseCards:[{id:"basic-001",name:"Mixed Block 1",count:3,cells:[[{type:"residential",roads:[]},{type:"commercial",roads:[]}],[{type:"park",roads:[]},{type:"industrial",roads:[]}]]},{id:"basic-002",name:"Residential Area",count:2,cells:[[{type:"residential",roads:[]},{type:"residential",roads:[]}],[{type:"residential",roads:[]},{type:"park",roads:[]}]]},{id:"basic-003",name:"Commercial Strip",count:2,cells:[[{type:"commercial",roads:[[3,1]]},{type:"commercial",roads:[[3,1]]}],[{type:"park",roads:[]},{type:"park",roads:[]}]]},{id:"basic-004",name:"Industrial Zone",count:2,cells:[[{type:"industrial",roads:[]},{type:"industrial",roads:[]}],[{type:"industrial",roads:[]},{type:"park",roads:[]}]]}],expansions:[],zoneTypes:[{id:"residential",name:"Residential",color:"#60a5fa",description:"Housing areas"},{id:"commercial",name:"Commercial",color:"#f59e0b",description:"Business districts"},{id:"industrial",name:"Industrial",color:"#6b7280",description:"Manufacturing zones"},{id:"park",name:"Park",color:"#34d399",description:"Green spaces"}],theme:{primaryColor:"#8b5cf6",secondaryColor:"#7c3aed"},metadata:{author:k.trim()||"Anonymous",created:new Date,modified:new Date,version:"1.0"},customScoringConditions:[]};T(s),a(`Created deck "${i}"!`,"success"),b(""),v(""),g(""),l(!1)}catch(s){a(`Failed to create deck: ${s}`,"error")}finally{N(!1)}},B=s=>{confirm(`Are you sure you want to delete "${s.name}"? This action cannot be undone.`)&&(w(s.id),a(`Deleted "${s.name}"`,"success"))},I=s=>{try{C(s.id),a(`Duplicated "${s.name}"`,"success")}catch(t){a(`Failed to duplicate deck: ${t}`,"error")}};return e.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Deck Management"}),e.jsx("p",{className:"text-base-content/70",children:"Manage your custom decks, create new ones, and import/export deck files"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>n(!0),className:"btn btn-outline gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import Deck"]}),e.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Deck"]})]})]})}),x.length===0?e.jsx("div",{className:"hero min-h-[400px] bg-base-200 rounded-2xl",children:e.jsx("div",{className:"hero-content text-center",children:e.jsxs("div",{className:"max-w-md",children:[e.jsx("div",{className:"text-base-content/40 mb-6",children:e.jsx("svg",{className:"mx-auto h-16 w-16 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Custom Decks Yet"}),e.jsx("p",{className:"mb-6 text-base-content/70",children:"Create your first custom deck to get started, or import one from a friend!"}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Your First Deck"]}),e.jsxs("button",{onClick:()=>n(!0),className:"btn btn-outline gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import Deck"]})]})]})})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:x.map(s=>{const t=_(s),p=s.zoneTypes?s.zoneTypes.map(r=>r.id):[],c=q(s.baseCards,p);return e.jsx("div",{className:`card bg-base-100 shadow-lg hover:shadow-xl transition-all ${t.isValid?"":"border border-error"}`,children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:s.theme.primaryColor}}),e.jsx("h3",{className:"card-title text-lg",children:s.name})]}),e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("button",{tabIndex:0,className:"btn btn-ghost btn-sm btn-square",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),e.jsxs("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52",children:[e.jsx("li",{children:e.jsxs("a",{href:y(`/deck-editor/${s.id}`),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Deck"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>I(s),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Duplicate"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>z(s),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Export"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>B(s),className:"text-error hover:bg-error/10",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})})]})]})]}),e.jsx("p",{className:"text-base-content/70 text-sm mb-4",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-base-content/60 mb-4",children:[e.jsx("span",{className:"badge badge-primary badge-sm",children:"CUSTOM"}),!t.isValid&&e.jsx("span",{className:"badge badge-error badge-sm",children:"INVALID"}),e.jsxs("span",{children:[c.totalCards," cards"]})]}),e.jsxs("div",{className:"text-xs text-base-content/60",children:[e.jsxs("p",{children:["By ",s.metadata.author]}),e.jsxs("p",{children:["Modified ",new Date(s.metadata.modified).toLocaleDateString()]})]}),!t.isValid&&e.jsxs("div",{className:"mt-3 p-3 bg-error/10 rounded-lg",children:[e.jsx("p",{className:"text-error text-xs font-semibold mb-1",children:"Issues found:"}),e.jsxs("ul",{className:"text-error text-xs list-disc list-inside",children:[t.errors.slice(0,2).map((r,U)=>e.jsx("li",{children:r},U)),t.errors.length>2&&e.jsxs("li",{children:["... and ",t.errors.length-2," more"]})]})]})]})},s.id)})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("a",{href:y("/play"),className:"btn btn-outline",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Game Setup"]})}),L&&e.jsx("div",{className:"modal modal-open",children:e.jsxs("div",{className:"modal-box max-w-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Import Deck"}),e.jsx("button",{onClick:()=>n(!1),className:"btn btn-ghost btn-sm btn-square",children:"✕"})]}),e.jsxs("div",{className:"form-control w-full mb-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Paste Deck JSON"})}),e.jsx("textarea",{value:d,onChange:s=>m(s.target.value),className:"textarea textarea-bordered w-full h-64 font-mono text-sm",placeholder:"Paste the exported deck JSON here..."})]}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{onClick:P,disabled:h||!d.trim(),className:`btn btn-success ${h?"loading":""}`,children:h?"Importing...":"Import Deck"}),e.jsx("button",{onClick:()=>m(""),className:"btn btn-outline",children:"Clear"}),e.jsx("button",{onClick:()=>n(!1),className:"btn",children:"Cancel"})]})]})}),M&&e.jsx("div",{className:"modal modal-open",children:e.jsxs("div",{className:"modal-box",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Create New Deck"}),e.jsx("button",{onClick:()=>l(!1),className:"btn btn-ghost btn-sm btn-square",children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Deck Name *"})}),e.jsx("input",{type:"text",value:i,onChange:s=>b(s.target.value),className:"input input-bordered w-full",placeholder:"Enter deck name",maxLength:50})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Description"})}),e.jsx("textarea",{value:f,onChange:s=>v(s.target.value),className:"textarea textarea-bordered w-full",placeholder:"Brief description of your deck",rows:3,maxLength:200})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Author"})}),e.jsx("input",{type:"text",value:k,onChange:s=>g(s.target.value),className:"input input-bordered w-full",placeholder:"Your name (optional)",maxLength:30})]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current shrink-0 w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Basic Deck Contents"}),e.jsx("p",{className:"text-sm",children:"This will create a deck with 9 basic cards including mixed development, residential areas, commercial strips, and industrial zones. Perfect for getting started!"})]})]})]}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{onClick:A,disabled:u||!i.trim(),className:`btn btn-primary ${u?"loading":""}`,children:u?"Creating...":"Create Basic Deck"}),e.jsx("button",{onClick:()=>l(!1),className:"btn",children:"Cancel"})]})]})})]})}const J=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"})),se={serverOnlyHooks:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:W}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:R}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:$}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/deck-management/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:J}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/layouts/LayoutDefault.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:V}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"My Vike App"}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:E}}};export{se as configValuesSerialized};
